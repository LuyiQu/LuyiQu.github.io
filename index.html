<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="瞿璐祎的博客" type="application/atom+xml">






<meta name="description" content="blog">
<meta name="keywords" content="个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="瞿璐祎的博客">
<meta property="og:url" content="https://luyiqu.github.io/index.html">
<meta property="og:site_name" content="瞿璐祎的博客">
<meta property="og:description" content="blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="瞿璐祎的博客">
<meta name="twitter:description" content="blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://luyiqu.github.io/">





  <title>瞿璐祎的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">瞿璐祎的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">try something new</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            Schedule
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2020/04/27/第十三章-索引结构/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/27/第十三章-索引结构/" itemprop="url">第十三章 索引结构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-27T12:11:13Z">
                2020-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第十三章-索引结构"><a href="#第十三章-索引结构" class="headerlink" title="第十三章 索引结构"></a>第十三章 索引结构</h1><h2 id="13-1-顺序文件上的索引"><a href="#13-1-顺序文件上的索引" class="headerlink" title="13.1 顺序文件上的索引"></a>13.1 顺序文件上的索引</h2><ul>
<li>稠密索引：一个索引对应一个元组</li>
<li>稀疏索引：一个索引对应一个数据块</li>
<li>多级索引：在索引上建立索引，高级索引量少可以放于内存，减少在磁盘中查找索引的I/O开销</li>
</ul>

          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2020/04/27/MongoDB-Architecture-Guide-Overview/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/27/MongoDB-Architecture-Guide-Overview/" itemprop="url">MongoDB Architecture Guide: Overview</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-27T10:50:42Z">
                2020-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2020/04/18/测试-1/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/18/测试-1/" itemprop="url">Oracle AWR</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-18T08:59:03Z">
                2020-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/oracle/" itemprop="url" rel="index">
                    <span itemprop="name">oracle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Oracle-AWR"><a href="#Oracle-AWR" class="headerlink" title="Oracle AWR"></a>Oracle AWR</h2><pre><code>- 目的：想知道oracle Automatic Wordload Repository（AWR）中有哪些我们可以获取得以利用
- 关键字：snapshot(快照)、baselines（基线）、Adaptive Thresholds(自适应阀值)、Space Consumption(空间消耗)
- 启动： STATISTICS_LEVEL设为TYPICAL或ALL
- 总结：只是一个历史性能数据的库，不具备实时的功能
</code></pre><h2 id="AWR包括的统计信息"><a href="#AWR包括的统计信息" class="headerlink" title="AWR包括的统计信息"></a>AWR包括的统计信息</h2><pre><code>- 对象统计
- 时间模型统计
- 系统和会话统计
- 获取会话历史统计
</code></pre><h2 id="Snapshot"><a href="#Snapshot" class="headerlink" title="Snapshot"></a>Snapshot</h2><pre><code>- 默认oracle每个小时自动产生一次快照，并保留8天负载统计信息
- 可通过自动数据库诊断器进行分析（ADDM）
    - 定期分析AWR数据
    - 诊断性能问题的起因
    - 为纠错提供推荐
    - 定义系统中没问题的部分
- AWR比较不同快照之间的差异来确定捕获影响系统负载的SQL语句【这个有意思】
- 可以修改Snapshot设置的单个参数，Retention（保留时间，min=1，max=100 年），Interval（收集的频率 min=10分钟,max=1年）、Topnsql（指定收集的比较占用资源的SQL数量 ,min=30,max=100000000）
</code></pre><h2 id="Baselines"><a href="#Baselines" class="headerlink" title="Baselines"></a>Baselines</h2><pre><code>- 定义：专门用于比较的基准线，Baseline中包含指定时间点时的性能数据，过期也不会被清除
- 使用：
    - 检阅DBA_HIST_SNAPSHOT视图中已存在的快照 
    - 用CREATE_BASELINE过程来创建期望快照范围基线
- 类型：
    - 固定基线
    - 移动窗口基线
    - 模板基线
</code></pre><h2 id="Adaptive-Thresholds"><a href="#Adaptive-Thresholds" class="headerlink" title="Adaptive Thresholds"></a>Adaptive Thresholds</h2><pre><code>- 可以监控和检测性能问题，同时可以最大限度地减少管理开销。
</code></pre><h2 id="Space-Consumption"><a href="#Space-Consumption" class="headerlink" title="Space Consumption"></a>Space Consumption</h2><pre><code>- AWR中空间消耗由是三个因素导致：
    - 系统中活动时间的会话数
    - 快照间隔
    - 历史数据的保留期
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2020/04/18/数据库系统实现 第一章/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/18/数据库系统实现 第一章/" itemprop="url">数据库系统实现 第一章</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-17T23:26:48Z">
                2020-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库相关书籍笔记/" itemprop="url" rel="index">
                    <span itemprop="name">数据库相关书籍笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据库系统实现-第一章"><a href="#数据库系统实现-第一章" class="headerlink" title="数据库系统实现 第一章"></a>数据库系统实现 第一章</h1><ul>
<li>DBMS信息类型包括：<ul>
<li>数据</li>
<li>元数据</li>
<li>日志记录：记录对数据库所做改变的信息（保证持久性）</li>
<li>统计信息：DBMS收集和存储的关于数据库中的各个关系或其它成分的大小、取值等信息</li>
<li>索引：对数据进行高效存取</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/jieba分词-tfidf文本表征-SVM分类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/jieba分词-tfidf文本表征-SVM分类/" itemprop="url">jieba分词+tfidf文本表征+SVM分类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-12T10:24:13Z">
                2018-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/项目/" itemprop="url" rel="index">
                    <span itemprop="name">项目</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> feature_extraction</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfTransformer</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> CountVectorizer</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> precision_recall_fscore_support</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def read_data(url):</span><br><span class="line">    data = pd.read_csv(url,encoding=&apos;utf-8&apos;)</span><br><span class="line">    data.fillna(&quot;null&quot;,inplace=True)      #使用inplace参数会改掉本身 </span><br><span class="line">    return data</span><br></pre></td></tr></table></figure>
<h1 id="数据清洗"><a href="#数据清洗" class="headerlink" title="数据清洗"></a>数据清洗</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clean_text</span><span class="params">(text)</span>:</span></span><br><span class="line">    text = str(text)</span><br><span class="line">    text = text.replace(<span class="string">'\n'</span>, <span class="string">''</span>)</span><br><span class="line">    text = text.replace(<span class="string">'&lt;br /&gt;'</span>, <span class="string">' '</span>)</span><br><span class="line">    text = text.replace(<span class="string">';'</span>, <span class="string">','</span>)</span><br><span class="line">    <span class="keyword">return</span> text</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tokenize_df_content</span><span class="params">(data)</span>:</span></span><br><span class="line">    df_empty = pd.DataFrame()</span><br><span class="line">    <span class="keyword">return</span> df_empty.assign(content_tokens=data[<span class="string">"content"</span>].map(clean_text)).assign(title_tokens=data[<span class="string">'title'</span>].map(clean_text)).assign(label_tokens=data[<span class="string">'ann_labels'</span>].map(clean_text))</span><br><span class="line"><span class="comment">#将content&amp;title&amp;ann_labels的内容都进行过清洗，形成一个新的dataframe</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stop_words</span><span class="params">()</span>:</span></span><br><span class="line">    stop_words_file = open(<span class="string">'stopword.txt'</span>, <span class="string">'r'</span>)</span><br><span class="line">    stopwords_list = []</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> stop_words_file.readlines():</span><br><span class="line">        stopwords_list.append(line)</span><br><span class="line">    <span class="keyword">return</span> stopwords_list</span><br></pre></td></tr></table></figure>
<h1 id="对content-amp-title进行分词"><a href="#对content-amp-title进行分词" class="headerlink" title="对content&amp;title进行分词"></a>对content&amp;title进行分词</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def jieba_data(data,i):</span><br><span class="line">    stopwords_list = stop_words()</span><br><span class="line">    data_title=jieba.cut(data[&apos;title_tokens&apos;][i])</span><br><span class="line">    data_content=jieba.cut(data[&quot;content_tokens&quot;][i])</span><br><span class="line">    data_result = &quot; &quot;</span><br><span class="line">    for title_word in data_title:</span><br><span class="line">        if(title_word not in stopwords_list):</span><br><span class="line">            data_result += title_word+&quot; &quot;</span><br><span class="line">    for content_word in data_content:</span><br><span class="line">        if(content_word not in stopwords_list):</span><br><span class="line">         data_result += content_word+&quot; &quot;</span><br><span class="line">    </span><br><span class="line">    return data_result</span><br><span class="line"></span><br><span class="line">def jieba_label(data_result,data,i):</span><br><span class="line">    stopwords_list = stop_words()</span><br><span class="line">    data_label = jieba.cut(data[&apos;label_tokens&apos;][i])</span><br><span class="line">    for label_word in data_label:</span><br><span class="line">        if(label_word not in stopwords_list):</span><br><span class="line">            data_result += label_word+&quot; &quot;</span><br><span class="line">    </span><br><span class="line">    return data_result</span><br></pre></td></tr></table></figure>
<h1 id="训练集的jieba分词"><a href="#训练集的jieba分词" class="headerlink" title="训练集的jieba分词"></a>训练集的jieba分词</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def train_jieba(data,i):</span><br><span class="line">    data_result = jieba_data(data,i);</span><br><span class="line">    result = jieba_label(data_result,data,i);</span><br><span class="line">    return result;</span><br></pre></td></tr></table></figure>
<h1 id="测试集的jieba分词"><a href="#测试集的jieba分词" class="headerlink" title="测试集的jieba分词"></a>测试集的jieba分词</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def test_jieba(data,i):</span><br><span class="line">    data = jieba_data(data,i);</span><br><span class="line">    return data;</span><br></pre></td></tr></table></figure>
<h1 id="读取数据"><a href="#读取数据" class="headerlink" title="读取数据"></a>读取数据</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    train_data_x = read_data(<span class="string">'df_news_train_ecnu.csv'</span>)</span><br><span class="line">    test_data_x = read_data(<span class="string">'df_news_test_ecnu.csv'</span>)</span><br><span class="line">    y_train = np.loadtxt(<span class="string">"y_train_ecnu.csv"</span>, delimiter=<span class="string">","</span>,encoding=<span class="string">'utf-8'</span>)  <span class="comment">#读入文件并以矩阵或向量的形式输出</span></span><br><span class="line">    y_test = np.loadtxt(<span class="string">"y_test_ecnu.csv"</span>, delimiter=<span class="string">","</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    print(train_data_x.shape)</span><br><span class="line">    print(test_data_x.shape)</span><br></pre></td></tr></table></figure>
<pre><code>输出：(2582, 5)
    (1107, 5)
</code></pre><h1 id="获得标签值"><a href="#获得标签值" class="headerlink" title="获得标签值"></a>获得标签值</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">unimportant_idx = 44</span><br><span class="line">   train_label_y = y_train[:, unimportant_idx]</span><br><span class="line">   test_label_y = y_test[:, unimportant_idx]</span><br><span class="line">   print(&quot;# unimportant / total news in training data: &quot;, int(sum(y_train[:, unimportant_idx])), &quot;/&quot;, len(y_train[:, unimportant_idx]))</span><br></pre></td></tr></table></figure>
<h1 id="分词并保存分词结果"><a href="#分词并保存分词结果" class="headerlink" title="分词并保存分词结果"></a>分词并保存分词结果</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">train_data_clean_x = tokenize_df_content(train_data_x)</span><br><span class="line">   test_data_clean_x = tokenize_df_content(test_data_x)</span><br><span class="line">   print(train_data_x.shape)</span><br><span class="line">   print(test_data_x.shape)</span><br><span class="line">   print(train_data_clean_x.shape)</span><br><span class="line">   print(test_data_clean_x.shape)   #此时的标签是content_tokens title_tokens label_tokens</span><br><span class="line">   </span><br><span class="line">   train_x = []       #训练集的语料库</span><br><span class="line">   test_x = []        #测试集的语料库</span><br><span class="line">   for i in range(len(train_data_clean_x)):</span><br><span class="line">           train_x.append(train_jieba(train_data_clean_x,i))</span><br><span class="line">   for i in range(len(test_data_clean_x)):</span><br><span class="line">           test_x.append(test_jieba(test_data_clean_x,i))</span><br><span class="line"></span><br><span class="line">   train_x = np.array(train_x)</span><br><span class="line">   test_x = np.array(test_x)</span><br><span class="line">   np.savetxt(&quot;tmp/X_train.csv&quot;, train_x, delimiter=&quot;,&quot;,fmt = &quot;%s&quot;,encoding=&quot;utf-8&quot;)</span><br><span class="line">   np.savetxt(&quot;tmp/X_test.csv&quot;, test_x, delimiter=&quot;,&quot;,fmt = &quot;%s&quot;,encoding=&quot;utf-8&quot;)</span><br></pre></td></tr></table></figure>
<pre><code>输出：
    (2582, 5)
    (1107, 5)
    (2582, 3)
    (1107, 3)
</code></pre><h1 id="tfidf-之构造权重矩阵"><a href="#tfidf-之构造权重矩阵" class="headerlink" title="tfidf 之构造权重矩阵"></a>tfidf 之构造权重矩阵</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    vectorizer = CountVectorizer()  #只考虑词汇在文本中出现的频率</span><br><span class="line">    transformer = TfidfTransformer()  #tfidf值</span><br><span class="line">    train_tfidf=transformer.fit_transform(vectorizer.fit_transform(train_x))#将tf-idf矩阵抽取出来，元素a[i][j]表示j词在i类文本中的tf-idf权重  </span><br><span class="line">    print(train_tfidf.shape)</span><br><span class="line">    test_tfidf = transformer.transform(vectorizer.transform(test_x))  #先拟合fit，找到该part的整体指标，对于test，transform保证train、test处理方式相同。</span><br><span class="line">#     test_weight = test_tfidf.toarray()</span><br><span class="line">#     print(test_weight.shape)</span><br></pre></td></tr></table></figure>
<pre><code>输出：(2582, 72998)
</code></pre><h1 id="tfidf-之打印特征文本"><a href="#tfidf-之打印特征文本" class="headerlink" title="tfidf 之打印特征文本"></a>tfidf 之打印特征文本</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">weight = train_tfidf.toarray() </span><br><span class="line">word = vectorizer.get_feature_names()  #获取词袋模型中的所有词语 </span><br><span class="line">for i in range(5):#打印每类文本的tf-idf词语权重，第一个for遍历所有文本，第二个for便利某一类文本下的词语权重  </span><br><span class="line">    print(&quot;************************第&quot;,i,&quot;篇文章的词语tf-idf权重**********************&quot;  )</span><br><span class="line">    for j in range(len(word)):</span><br><span class="line">        if(weight[i][j] &gt;0.1):   </span><br><span class="line">            print(word[j],weight[i][j])</span><br></pre></td></tr></table></figure>
<pre><code>输出：
    ************************第 0 篇文章的词语tf-idf权重**********************
    一致性 0.30716252706000763    
    仿制 0.21851023802630334
    医疗机构 0.27535485762167283
    原研 0.2036921591200047
    ......
</code></pre><h1 id="二分类【非重要新闻】¶"><a href="#二分类【非重要新闻】¶" class="headerlink" title="二分类【非重要新闻】¶"></a>二分类【非重要新闻】¶</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svmmodel = SVC(C = 1 , kernel= &quot;linear&quot;) #kernel：rbf, poly在这里都没有线性的好</span><br><span class="line"></span><br><span class="line">nn = svmmodel.fit(train_tfidf,train_label_y)</span><br><span class="line">print(nn)</span><br><span class="line">pre_test_label = svmmodel.predict(test_tfidf)</span><br><span class="line">test_data_x[&quot;category&quot;] = pre_test_label</span><br><span class="line">np.savetxt(&quot;tmp/test_data_label.csv&quot;, test_data_x, delimiter=&quot;,&quot;,fmt = &quot;%s&quot;,encoding=&quot;utf-8&quot;)</span><br></pre></td></tr></table></figure>
<h1 id="评判指标"><a href="#评判指标" class="headerlink" title="评判指标"></a>评判指标</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.metrics import classification_report</span><br><span class="line">print(classification_report(test_label_y, pre_test_label))</span><br></pre></td></tr></table></figure>
<pre><code>输出：
             precision    recall  f1-score   support

    0.0       0.76      0.92      0.83       783
    1.0       0.59      0.29      0.39       324

    avg / total       0.71      0.73      0.70      1107
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/Spark之join操作/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/Spark之join操作/" itemprop="url">Spark之join操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T22:28:48Z">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/分布式模型与编程/" itemprop="url" rel="index">
                    <span itemprop="name">分布式模型与编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Spark之join操作-md"><a href="#Spark之join操作-md" class="headerlink" title="Spark之join操作.md"></a>Spark之join操作.md</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.SparkConf;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.JavaPairRDD;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.JavaRDD;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.JavaSparkContext;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.function.FlatMapFunction;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.function.Function2;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.function.PairFunction;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.api.java.function.VoidFunction;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> scala.Tuple2;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">join</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SparkConf conf = <span class="keyword">new</span> SparkConf().setAppName(<span class="string">"join"</span>).setMaster(<span class="string">"local[*]"</span>);</span><br><span class="line">		JavaSparkContext jsc = <span class="keyword">new</span> JavaSparkContext(conf);</span><br><span class="line">		JavaRDD&lt;String&gt; persons = jsc.textFile(<span class="string">"spark/input3/person.txt"</span>);</span><br><span class="line">		JavaRDD&lt;String&gt; addresses = jsc.textFile(<span class="string">"spark/input3/address.txt"</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="comment">//得到 key: 邮编号，value:学号和名字</span></span><br><span class="line">		JavaPairRDD&lt;String, String&gt; personkv = persons.mapToPair(<span class="keyword">new</span> PairFunction&lt;String, String,String&gt;() &#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> Tuple2&lt;String,String&gt; <span class="title">call</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				</span><br><span class="line">					String[] personsplit = str.split(<span class="string">" |\t"</span>);     <span class="comment">// notice maybe \t</span></span><br><span class="line">					<span class="comment">//System.out.println("length"+personsplit.length);</span></span><br><span class="line">					<span class="comment">//处理缺省数据</span></span><br><span class="line">					<span class="keyword">if</span> (personsplit.length == <span class="number">3</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="comment">//System.out.println("i am not null");</span></span><br><span class="line">						String code=personsplit[<span class="number">2</span>];</span><br><span class="line">						String value = personsplit[<span class="number">0</span>] +<span class="string">" "</span>+ personsplit[<span class="number">1</span>];		<span class="comment">//number + name</span></span><br><span class="line">						<span class="keyword">return</span> <span class="keyword">new</span> Tuple2&lt;String, String&gt;(code, value);</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> &#123;</span><br><span class="line">						</span><br><span class="line">						<span class="comment">//System.out.println("null null null ++++++++="+personsplit.length);	</span></span><br><span class="line">						<span class="keyword">return</span> <span class="keyword">new</span> Tuple2&lt;String,String&gt;(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">						&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);  <span class="comment">// to split the person and get the form &lt;210000,1 Aaron&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//得到key: 邮编号 value:城市</span></span><br><span class="line">		JavaPairRDD&lt;String, String&gt; addresskv = addresses.mapToPair(<span class="keyword">new</span> PairFunction&lt;String, String,String&gt;() &#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> Tuple2&lt;String,String&gt; <span class="title">call</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				String[] addresssplit = str.split(<span class="string">" |\t"</span>);</span><br><span class="line">				String code=addresssplit[<span class="number">0</span>];</span><br><span class="line">				String value = addresssplit[<span class="number">1</span>];		<span class="comment">//city</span></span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">new</span> Tuple2&lt;String, String&gt;(code, value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);				<span class="comment">//to split the address and get the  form &lt;210000,Nanjing&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//进行join操作</span></span><br><span class="line">		JavaPairRDD&lt;String, Tuple2&lt;String, String&gt;&gt; joinres=personkv.join(addresskv);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//遍历输出</span></span><br><span class="line">		joinres.foreach(<span class="keyword">new</span> VoidFunction&lt;Tuple2&lt;String, Tuple2&lt;String, String&gt;&gt;&gt;() &#123;</span><br><span class="line">			<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(Tuple2&lt;String, Tuple2&lt;String, String&gt;&gt; t)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">				System.out.println(t._2()._1+<span class="string">" "</span>+t._1+ <span class="string">" "</span>+t._2()._2);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line">		joinres.saveAsTextFile(<span class="string">"./spark/output3/"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="输入"><a href="#输入" class="headerlink" title="输入:"></a>输入:</h2><pre><code>person.txt:
    1 Aaron 210000
    .....
address.txt:
    210000 Nanjing
    .........
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/文档型数据库/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/文档型数据库/" itemprop="url">文档型数据库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T22:28:48Z">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据管理系统/" itemprop="url" rel="index">
                    <span itemprop="name">数据管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="文档型数据库"><a href="#文档型数据库" class="headerlink" title="文档型数据库"></a>文档型数据库</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><pre><code>1. MongoDB:文档型数据库，按照文档的形式存储
    a. Web App（用的较多）
2. 数据库管理系统（DBMS）
    a. 需要把具体如何实现的如 增删改查 隐藏在系统软件中，对用户软件透明
</code></pre><h2 id="基础概念："><a href="#基础概念：" class="headerlink" title="基础概念："></a>基础概念：</h2><pre><code>a. 文档（数据模型）   【关系数据库的数据模型是表格】
    i. 用&lt;key/attribute,value&gt;存放，json的格式
    ii. 一个文档里还可以包括子文档
    iii. 每个文档都有个_id，如果在一个文档中没有说_id是什么，数据库会自动分配一个，可以通过_id找到数据库的任何一个文档
    iv. 一个文档可以是做一个对象（json）

b. 文档集(collection)
    i. 文档的集合（一个文档集可以视为一类对象）

c. 数据库(database)
    i. 若干个文档集构成一个数据库
    ii. 部署在一个服务器上，【一般】一个数据库对应一个应用
</code></pre><h2 id="文档的访问接口"><a href="#文档的访问接口" class="headerlink" title="文档的访问接口"></a>文档的访问接口</h2><pre><code>a. 插入文档
    i. db.foo.insert({&quot;bar&quot;:&quot;baz&quot;})
        1) db:datebase      foo:collection
    ii. db.foo.batchinsert() 批量插入
b. 查找文档
    i. db.blog.find()    [查blog文档集的所有文档]
    ii. Joe=db.people.findOne({&quot;name&quot;:&quot;joe&quot;,&quot;age&quot;:20});  [查people文档集特定属性的文档]
    iii. db.users.find({},{&quot;username&quot;:1,&quot;email&quot;:1})   [只返回users文档的username,email这两个属性、前面的空括号表明不限定如何查询条件，如果这里去掉后面两个属性就变成查询条件了]
    iv. db.users.find({&quot;age&quot;:{&quot;$gte&quot;:18,&quot;$lte&quot;:30}})  【查年龄在18~30的用户文档】
    v. db.raffle.find({&quot;ticket_no&quot;}:{&quot;$in&quot;} :{ [725,542,390]}})
c. 删除文档
    i. db.foo.remove()
    ii. db.mailing.list.remove({&quot;opt-out&quot;:true})

d. 更新文档
    i. db.users.update({&quot;_id&quot; : ObjectId(&quot;28h32j223e92e&quot;)},…{&quot;$set&quot; :  {&quot;favorite book&quot; : &quot;War and Peace&quot;}})     【$set指置换】
    ii. db.games.update({&quot;game&quot; : &quot;pinball&quot;, &quot;user&quot; : &quot;joe&quot;},…{&quot;$inc&quot; : {&quot;score&quot; : 50}})
</code></pre><p>##文档模型的设计思想<br>        a. 优点：每个元素都被视为对象（储存为json格式）</p>
<h2 id="存储器件"><a href="#存储器件" class="headerlink" title="存储器件"></a>存储器件</h2><pre><code>3. 数据处理性能的宗旨
    a. 提高数据访问的局部性：
        i. 对磁盘/闪存而言
            1) 减少I/O的次数；
            2) 变随机访问为顺序访问。
        ii. 对内存而言
            1) 增加Cache的命中率
4. 数据库的基本存储架构
    a. 以页为单位存放数据。每一页为512bytes的整数倍，4KB到4MB。
</code></pre><h3 id="索引："><a href="#索引：" class="headerlink" title="索引："></a>索引：</h3><pre><code>    a. 对于非聚集索引，有些查询甚至可以不访问数据页。
    b. 聚集索引可以避免数据插入操作集中于表的最后一个数据页。

当然，众所周知，虽然索引可以提高查询速度，但是它们也会导致数据库系统更新数据的性能下降，因为大部分数据更新需要同时更新索引。
</code></pre><p>参考 <a href="https://www.cnblogs.com/ccsccs/articles/4243644.html" target="_blank" rel="noopener">https://www.cnblogs.com/ccsccs/articles/4243644.html</a></p>
<pre><code>B-Tree
    a. B-Tree的平衡性
        i. 每个节点的大小固定（e.g. 4KB或8KB），因此最多只能容纳n个键和n+1个指针。

    b. 什么决定B-Tree的效率？
        i. 树的高度决定查询需要I/O次数。
        ii. 对于同样规模的数据，n越大树的高度越低。
        iii. 为了提高B-Tree的效率，我们需要增加n，即增加每个节点容纳键和指针的数量。
            1) 用简短的数据类型定义键的属性，e.g. smallint.
            2) 对B-Tree进行压缩。
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/Mongodb数据库设计/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/Mongodb数据库设计/" itemprop="url">Mongodb数据库设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T22:28:48Z">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据管理系统/" itemprop="url" rel="index">
                    <span itemprop="name">数据管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><pre><code>- Mongodb是以面向对象存储的 ， 做Obj&lt;---&gt;Doc之间的转换，一般用Java去实践
- ORM工具：Obj Relation Mapping
</code></pre><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><pre><code>- 数据库设计
    ○ 什么样的数据存在里面
    ○ 数据怎么样存在里面（组织形式） &amp; 应用如何去访问数据库
- 数据库设计的基本步骤
    ○ 需求设计（软件的功能是什么）
        § 了解用户需求，确定软件的基本功能
    ○ 概念结构设计（存什么）
        § 确定数据库需要记录哪些对象
    ○ 逻辑结构设计设计（抽象怎么存）
        § 确定对象之间的关系以及文档结构。
    ○ 物理结构设计 （代码的实现）
        § 确定数据的存储方式、索引的使用、系统配置等等
    ○ 数据库实施
        § 安装数据库管理系统、创建数据、调试、运行。
    ○ 数据库运行和维护
        根据需求的扩展与变化，对以上结果进行调整和变更
</code></pre><h2 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h2><pre><code>MVC  (model  -- view -- controller)
</code></pre><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><pre><code>1. 对象的确定
    ○ 软件功能涉及到的概念
        § 博客：用户、文章、评论、粉丝
        § 网上书店：图书、用户、购物车、订单、评论
    ○ 软件开发过程中出现的持久化需求
        § Java开发中遇到需要序列化的对象
        § MVC中Model的构建

2. 对象之间的关系(Cardiality)
    ○ 1：1     ——   企业与CEO  、 配偶关系
    ○ 1：M    ——  博客与评论、国家与城市
    ○ M:N      ——  书与作者、用户与粉丝
</code></pre><h2 id="拇指法则"><a href="#拇指法则" class="headerlink" title="拇指法则"></a>拇指法则</h2><pre><code>赞成嵌入，除非有一个令人信服的理由不这样做。
需要访问一个对象本身是一个令人信服的理由不嵌入它。
数组不应该无限制地增长。如果在“多”方面有超过几百个文档，不要嵌入它们;如果“多”方面有几千个文档，不要使用ObjectID引用数组。高基数数组是不嵌入的一个令人信服的理由。
不要害怕应用程序级连接:如果正确索引并使用了投影说明符，那么应用程序级连接的开销几乎不比关系数据库中的服务器端连接高。
在反规范化时考虑写/读比。一个通常会被读取但很少被更新的字段是反规范化的一个很好的候选:如果你对一个经常更新的字段进行反规范化，那么查找和更新所有实例的额外工作很可能会超过你从反规范化中获得的节省。
与MongoDB一样，如何建模数据完全取决于特定应用程序的数据访问模式。您希望构造数据，以匹配应用程序查询和更新数据的方式。
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/关系模型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/关系模型/" itemprop="url">关系模型.md</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T22:28:48Z">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据管理系统/" itemprop="url" rel="index">
                    <span itemprop="name">数据管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="关系模型"><a href="#关系模型" class="headerlink" title="关系模型"></a>关系模型</h1><pre><code>1.关系模型的组成： 关系数据结构、关系操作集合、关系完整性约束
2. 关系模型具有单一的数据结构—— 关系。关系代数的逻辑结构是一张二维表，是建立在集合代数的基础上的
</code></pre><h2 id="关系数据结构"><a href="#关系数据结构" class="headerlink" title="关系数据结构"></a>关系数据结构</h2><pre><code>1. 域（demain）：一组具有相同数据类型的值的集合（如整数）
2. 笛卡尔积：穷尽所有的组合，即所有域的所有取值的一个组合（不能重复）
    a. 基数：一个域允许的不同取值个数
    b. 笛卡尔积可表示为一张二维表，表中的每行对应一个元组，表中的每列对应一个域

3. 关系：笛卡尔积的子集
    a. 关系： R（D1，D2，…，Dn）：R：关系名，n：关系的目或度（Degree）
    b. 元组：关系中的每个元素是关系中的元组，通常用t表示。
    c. 属性：表的每一列是一种属性
    d. 码
        i. 候选码
            1) 若关系中的某一属性组的值能唯一地表示一个元组，则称该属性组为候选码
            注：简单的情况：候选码只包含一个属性
        ii. 主属性：候选码的诸属性
        iii. 非主属性：不包含在任何候选码中的属性
        iv. 全码：关系模式的所有属性组是这个关系模式的候选码
        v. 主码：若一个关系有多个候选码，则选定其中一个为主码：可以一个组合作为一个主码，或者是定义一个id属性为主码
    e. 关系的三种类型：基本关系（实际存在的表）、查询表（查询结果对应的表）、视图表（基本表或其他视图表导出的表，是虚表，不对应实际存储的数据）
    f. 基本关系的性质
        ① 列是同质的（Homogeneous）
        ② 不同的列可出自同一个域
            其中的每一列称为一个属性
            不同的属性要给予不同的属性名
        ③ 列的顺序无所谓,，列的次序可以任意交换
        ④ 任意两个元组的候选码不能相同
        ⑤ 行的顺序无所谓，行的次序可以任意交换
            i. 最重要的：关系的每一个分量必须是一个不可分的数据项
</code></pre><h2 id="关系代数"><a href="#关系代数" class="headerlink" title="关系代数"></a>关系代数</h2><pre><code>1. 关系代数（Relational Algebra)
    a. 是一种抽象的查询语言，它用对关系的运算来表示查询
    b. 运算对象是关系、运算结果亦为关系
    c. 两类运算符：
        i. 并、差、交、笛卡尔积（传统的集合运算符）
        ii. 选择、投影、连接、除（专门的关系运算符）
    d. 传统的集合运算是从关系的“水平”方向即行的角度进行，专门的关系运算不仅涉及行而且涉及列

2. 选择selection（限制）
    a. 类型一个MongoDB中的find操作
    b. 将一些不需要的行排除掉
        i.  σF(R) = {t |t属于R ∧ F (t )= &apos;真&apos;}
        ii. F的基本形式为：X1θY1，θ表示比较运算符，它可以是＞，≥，＜，≤，＝或&lt;&gt;

3. 投影projection
    a. 从R 中选择出若干属性列组成新的关系    πA(R) = { t [A] | t 属于 R } ， A：R 中的属性列 
    b. 将一些不需要的列排除，还需要将重复行的合并起来（不然就不符合关系的定义）

4. 连接（两张表连接成一张表）join   (连接也称为θ连接)
    a. MongoDB中没有连接
    b. 从两个关系的笛卡尔积中选取属性间满足一定条件的元组

        A和B：分别为R和S上度数相等且可比的属性组

    c. 两种常用的连接:
        i. 等值连接  ： 有重复的属性列（从关系R与S 的广义笛卡尔积中选取A、B属性值相等的那些元组)   θ为“＝”
        ii. 自然连接：在等值连接的基础上，并且在结果中把重复的属性列去除掉

注：所有的数据都是关系，在上面可以做运算
    d. 悬浮元组（Dangling tuple）:
        两个关系R和S在做自然连接时，关系R中某些元组有可能在S中不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了，这些被舍弃的元组称为悬浮元组。
    e. 外连接（Outer Join）：
    如果把悬浮元组也保存在结果关系中，而在其他属性上填空值(Null)，就叫做外连接
    f. 左外连接(LEFT OUTER JOIN或LEFT JOIN)：
        只保留左边关系R中的悬浮元组
    g. 右外连接(RIGHT OUTER JOIN或RIGHT JOIN)：
        只保留右边关系S中的悬浮元组
</code></pre><h2 id="网状模型-、-文档模型的比较"><a href="#网状模型-、-文档模型的比较" class="headerlink" title="网状模型 、 文档模型的比较"></a>网状模型 、 文档模型的比较</h2><pre><code>a. 关系模型的特点：
    i. 更强的表达能力（连接MongoDB做不了）
    ii. 比网状模型简洁
    iii. 在查询的时候还是有过程性的内容（关系代数）
</code></pre><h2 id="关系演算（Relational-Calculus"><a href="#关系演算（Relational-Calculus" class="headerlink" title="关系演算（Relational Calculus)"></a>关系演算（Relational Calculus)</h2><pre><code>a. 声明式查询语言
b. 类似FOL的表达方式
c. 与关系代数基本等价
d. 关系演算可以翻译成若干个关系代数，（有些内容的先后顺序不确定）
e. 关系代数+逻辑表达 ===》 声明式的
f. 是SQL的基础
g. 关系模型相当于网状模型，将更多细节藏在了里面，更倾向于声明式语言
</code></pre><h2 id="表达能力范围比较-不涉及精简度）"><a href="#表达能力范围比较-不涉及精简度）" class="headerlink" title="表达能力范围比较(不涉及精简度）"></a>表达能力范围比较(不涉及精简度）</h2><pre><code>a. Mongodb CRUD &lt; 关系代数/演算 &lt; FOL(一阶代词逻辑） &lt; Turing Machine
注： 关系代数不能有递归，一阶逻辑可以由递归
</code></pre><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><pre><code>注：App和DB独立，将更多的操作推给数据库，只告诉数据库需要什么，接口就会变得很简洁（表达能力强）

初衷：以防两个app同时使用一个DB，引起冲突，因此把操作都放在DB中。

现在：推崇模块化，将DB都放在每个模块中，为了更新一个模块时不会动另一个模块。
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-categories" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luyiqu.github.io/2018/11/12/数据模型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="luyiqu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="瞿璐祎的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/数据模型/" itemprop="url">数据模型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T22:28:48Z">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/数据管理系统/" itemprop="url" rel="index">
                    <span itemprop="name">数据管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h1><h2 id="好系统的标准"><a href="#好系统的标准" class="headerlink" title="好系统的标准"></a>好系统的标准</h2><pre><code>○ 功能通用、完善
    § 满足尽量多应用的需求
○ 实现细节对应用透明
    § 应用开发独立于系统实现
</code></pre><h2 id="数据模型定义"><a href="#数据模型定义" class="headerlink" title="数据模型定义"></a>数据模型定义</h2><pre><code>    定义：数据的逻辑组织方式（数据的基本结构和结构的语义）
    a. 文档模型（Mongodb   2000s)
    b. 层次模型（IBM IMS   1960s)
    c. 网状模型（GE IDS 1960s）
    d. 关系模型（SQL DB 1970s~80s)

注：数据模型—决定—&gt; 数据的访问方式 / DBMS的访问接口——&gt; 系统的功能性、性能、易用性
</code></pre><h2 id="数据库模式（Schema"><a href="#数据库模式（Schema" class="headerlink" title="数据库模式（Schema)"></a>数据库模式（Schema)</h2><pre><code>a. 对数据库中数据的结构性描述
    i. 参照schema才能正确书写查询
b. 一种数据库元数据（Metadata），描述数据长什么样子（相当于一个模板）
e.g. 
Schema
{
    Name:string,
    Manufacturer:string
    Catalog_numver:num
}
c. Data Model相当于Schema的Metadata，即Meta Metadata
注：Mongodb没有一个特定的schema的过程，只是程序猿在存数据的时候脑子里有这个schema
</code></pre><h2 id="数据模型：JSON-BSON"><a href="#数据模型：JSON-BSON" class="headerlink" title="数据模型：JSON/BSON"></a>数据模型：JSON/BSON</h2><h2 id="如何衡量数据模型的能力？"><a href="#如何衡量数据模型的能力？" class="headerlink" title="如何衡量数据模型的能力？"></a>如何衡量数据模型的能力？</h2><pre><code>a. 表达能力：
    i. 数据本身能够表达什么信息？
        1) 计算机能够理解的信息
    ii. 查询能够满足哪些信息需求？
注： 表达能力越强，查询时返回的值越快越准确

b. 表达能力的两个维度
    i. 范围：能够满足哪些信息需求
        1) 上限为Turing Completeness（程序设计语言能做到的范围）（数据库的查询做不到Turing Completeness）
    ii. 精简程度：用户描述需求是是否方便
        1) Prolog比Java表达更强更精炼，因为Prolog逻辑性强
注：数据库系统将查询的语言转换成数据库查找的语言
</code></pre><h2 id="数据模型的论战："><a href="#数据模型的论战：" class="headerlink" title="数据模型的论战："></a>数据模型的论战：</h2><pre><code>    a. Charles Bachman     网状模型     Navigational Database Network Model
    Edgar F.Codd       关系模型    Relational Database Relation Model
    b. 70年代末更倾向于关系数据库

7. 网状数据库(Navigational DB)
    a. 查询通过指针访问
8. Codd坚持的看法
    a. DBMS应该和应用程序尽可能保持相互独立（模块化）
        i. 数据的存放顺序与程序无关
        ii. 数据的使用与程序无关
        iii. 数据的访问方式与程序无关（网状和层次模型违背了这点）
</code></pre><h2 id="如何避免依赖性"><a href="#如何避免依赖性" class="headerlink" title="如何避免依赖性"></a>如何避免依赖性</h2><pre><code>    a. 提升数据模型的表达能力
    b. 声明是程序设计语言(而不是过程式语言）
        i. Prolog 、 SQL 、 First Order Logic（一阶逻辑语言）
        ii. 只把需求说出来，不说具体怎么做。

注：关系型数据库就着重声明式语言,Mongodb是声明式语言，但是拿到数据之后，还是得通过java等过程式语言进行处理
</code></pre><h2 id="问答："><a href="#问答：" class="headerlink" title="问答："></a>问答：</h2><pre><code>a. 声明式程序一定比过程式的更好吗？
    i. 并不是
b. 表达能力越高越好吗？
    i. 不是，度的把握，如单反照相机和傻瓜相机
</code></pre>
          
        
      
    </div>
    
    
    
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="luyiqu">
            
              <p class="site-author-name" itemprop="name">luyiqu</p>
              <p class="site-description motion-element" itemprop="description">blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">luyiqu</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
